{
	"__schema" : "4.1",
	"__type" : "page",
	"children" : {
		"__type" : "snippets",
		"items" : [
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:22:03.267778+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:25:48.011142+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "YFp6JfuxDQCvxBDqABcDvg=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "For quite some time we had [an issue](https://github.com/feenkcom/gtoolkit/issues/2579) in the text editor related to the cursor getting stuck when it was at the end of a paragraph. It was annoying, but we did not know how to address it and it stayed open for half a year."
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:26:07.760996+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:26:43.924025+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "j3BcM/uxDQCz/rGkABcDvg=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "We knew that the issue was likely due to something in the lower levels, but we did not know what it could be. We did not even have a hypothesis."
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:25:51.971692+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:49:22.644187+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "2To2M/uxDQCz9aGkABcDvg=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "Indeed, [[Glamorous Toolkit]] relies on [[Rust]] plugins. For example, the current implementation of the text editor is based on a wrapper over Rust objects. This is nice because it allows us to reuse external libraries. At the same time, to find issues visible in the high level editor, we need to understand how the low level objects work. To this end, we need at least the ability to inspect."
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:30:24.376651+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:32:48.12892+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "+1DkOvuxDQC5A23OABcDvg=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "It was only until we extended the inspector to allow us to explore Rust objects that we could find the issue. The screenshot below shows the actual exploration that led to the bug resolution."
			},
			{
				"__type" : "pictureSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:22:49.006078+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:30:18.840833+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "8g1YKPuxDQCwda3pABcDvg=="
				},
				"url" : "attachments/b8yxhb7z770mhdyhzqjvbwf6s/Screenshot 2023-01-18 at 18.34.47.png",
				"caption" : "A screenshot of the inspection session that led to the bug resolution. The inspector shows the Pharo object and the wrapped Rust object in a seamless exploration",
				"previewHeight" : 300
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:33:05.073502+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:37:02.13691+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "WonFRvuxDQC5TwU6ABcDvg=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "Inspecting the {{gtClass:SkiaParagraph}} instance shows an `Info` view that is actually served by the wrapped Rust object. We can see how selecting the `Line ranges` item, leads to an inspector over a Rust object."
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:37:04.298586+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:40:17.425089+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "4nBLW/uxDQCAlV0TABcDvg=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "So, what was the issue? Looking at the line ranges, we notice that index `6` is both the end of the first interval, and the beginning of the second interval. Once we saw this, it became obvious that 6 cannot belong in both. It turned out that the end of the interval was expected by the low level library to be exclusive, while our implementation assumed it is inclusive. Once we saw the problem, the [fix](https://github.com/feenkcom/libskia/commit/0e97985eada517495aea051176667ee2d26ade01) was rather straightforward."
			},
			{
				"__type" : "pictureSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:22:21.615738+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:30:15.565504+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "nxy2JvuxDQCwcLeGABcDvg=="
				},
				"url" : "attachments/b8yxhb30alr4xe23zd4sfnj4g/Screenshot 2023-02-26 at 13.04.25.png",
				"caption" : "The relevant fix was mostly changing the condition from <= to <",
				"previewHeight" : 300
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:40:38.868609+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:49:28.09227+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "1h0rZ/uxDQCHfVDEABcDvg=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "The differentiator between not knowing how to approach the problem at all and actually solving it was just a matter of seeing the problem in the first place. That is the power of [[Moldable Development]]."
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:27:06.467375+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T13:27:56.594951+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "KbZyN/uxDQC2u+JZABcDvg=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "#Reproducing the exploration"
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T11:13:13.76513+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T11:15:32.534982+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "zFKIWPmxDQCbkLyNABcDvg=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "Consider this editor:"
			},
			{
				"__type" : "pharoSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T11:13:10.708073+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T11:13:11.039091+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "paK4WPmxDQCbk/CTABcDvg=="
				},
				"code" : "stream := BlTextStream new.\rstream glamorousRegularFont fontSize: 40.\rstream next\r\tputAll: 'This is a piece of text in an editor. The editor is made out of '.\rstream next\r\tforeground: Color blue;\r\tbold;\r\tputAll: 'Pharo'.\rstream next\r\tputAll: ' paragraph objects. These paragraph objects have correspondent objects in the '.\rstream next\r\tforeground: Color red;\r\tbold;\r\tputAll: 'Rust'.\rstream next putAll: ' world which can be inspected seamlessly, too.'.\reditor := BrEditor new\r\t\ttext: stream contents;\r\t\taptitude: BrGlamorousRegularEditorAptitude new"
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T12:03:22.810117+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T14:46:15.237213+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "VKtBDPqxDQCfT3grABcDvg=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "The editor is made out of paragraph elements. In the current implementation they are instances of {{gtClass:BrTextEditorParagraphElement}}. To draw themselves, these objects depend on {{gtClass:SkiaParagraph}} instances that are actually wrappers over  Rust objects."
			},
			{
				"__type" : "textSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [
						{
							"__type" : "textSnippet",
							"children" : {
								"__type" : "snippets",
								"items" : [ ]
							},
							"createEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"createTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2023-02-26T12:16:49.306163+01:00"
								}
							},
							"editEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"editTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2023-02-26T12:16:49.306163+01:00"
								}
							},
							"uid" : {
								"__type" : "uid",
								"uidString" : "z9NTPPqxDQCu6ZlGABcDvg=="
							},
							"paragraphStyle" : {
								"__type" : "textStyle"
							},
							"string" : "First, inspect the editor above to make it render."
						},
						{
							"__type" : "textSnippet",
							"children" : {
								"__type" : "snippets",
								"items" : [
									{
										"__type" : "pharoSnippet",
										"children" : {
											"__type" : "snippets",
											"items" : [ ]
										},
										"createEmail" : {
											"__type" : "email",
											"emailString" : "<unknown>"
										},
										"createTime" : {
											"__type" : "time",
											"time" : {
												"__type" : "dateAndTime",
												"dateAndTimeString" : "2023-02-26T11:13:37.605125+01:00"
											}
										},
										"editEmail" : {
											"__type" : "email",
											"emailString" : "<unknown>"
										},
										"editTime" : {
											"__type" : "time",
											"time" : {
												"__type" : "dateAndTime",
												"dateAndTimeString" : "2023-02-26T12:17:25.229497+01:00"
											}
										},
										"uid" : {
											"__type" : "uid",
											"uidString" : "NBBTWvmxDQCby+5JABcDvg=="
										},
										"code" : "editor children first buildParagraph layoutWithWidth: 400"
									}
								]
							},
							"createEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"createTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2023-02-26T12:00:23.807532+01:00"
								}
							},
							"editEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"editTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2023-02-26T12:17:21.900856+01:00"
								}
							},
							"uid" : {
								"__type" : "uid",
								"uidString" : "0820YPmxDQCb0+rNABcDvg=="
							},
							"paragraphStyle" : {
								"__type" : "textStyle"
							},
							"string" : "Then let's inspect one of the children and access the lower {{gtClass:SkiaParagraph}} instance:"
						},
						{
							"__type" : "textSnippet",
							"children" : {
								"__type" : "snippets",
								"items" : [ ]
							},
							"createEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"createTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2023-02-26T13:27:23.851293+01:00"
								}
							},
							"editEmail" : {
								"__type" : "email",
								"emailString" : "<unknown>"
							},
							"editTime" : {
								"__type" : "time",
								"time" : {
									"__type" : "dateAndTime",
									"dateAndTimeString" : "2023-02-26T13:27:50.888825+01:00"
								}
							},
							"uid" : {
								"__type" : "uid",
								"uidString" : "5meJPvqxDQCvu1HQABcDvg=="
							},
							"paragraphStyle" : {
								"__type" : "textStyle"
							},
							"string" : "The resulting inspector has an `R` icon. If you press it, you will get to the Rust object. "
						}
					]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T12:16:43.527391+01:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "<unknown>"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2023-02-26T12:16:55.134335+01:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "3Yf1O/qxDQCup7M6ABcDvg=="
				},
				"paragraphStyle" : {
					"__type" : "textStyle"
				},
				"string" : "How does it work? Follow this:"
			}
		]
	},
	"createEmail" : {
		"__type" : "email",
		"emailString" : "<unknown>"
	},
	"createTime" : {
		"__type" : "time",
		"time" : {
			"__type" : "dateAndTime",
			"dateAndTimeString" : "2023-02-26T11:13:07.50881+01:00"
		}
	},
	"editEmail" : {
		"__type" : "email",
		"emailString" : "<unknown>"
	},
	"editTime" : {
		"__type" : "time",
		"time" : {
			"__type" : "dateAndTime",
			"dateAndTimeString" : "2023-02-26T13:50:29.573939+01:00"
		}
	},
	"pageType" : {
		"__type" : "namedPage",
		"title" : "Identifying an editor bug by inspecting wrapped Rust objects"
	},
	"uid" : {
		"__type" : "uuid",
		"uuid" : "bdd58758-f9b1-0d00-9b8f-5b38001703be"
	}
}